<?xml version="1.0" encoding="UTF-8"?>
<proxy xmlns="http://ws.apache.org/ns/synapse"
       name="ProcessMessageMainProxy"
       transports="https"
       startOnLoad="true"
       trace="disable">
   <description/>
   <target>
      <inSequence>
         <send>
            <endpoint key="callBackendService"/>
         </send>
      </inSequence>
      <outSequence>
         <payloadFactory media-type="xml">
            <format>
               <urn:Response xmlns:urn="http://esb.wso2.org">
                  <urn:elementA>$1</urn:elementA>
                  <urn:elementB>$2</urn:elementB>
               </urn:Response>
            </format>
            <args>
               <arg xmlns:m0="http://esb.wso2.org"
                    evaluator="xml"
                    expression="//m0:elementA"/>
               <arg xmlns:m0="http://esb.wso2.org"
                    evaluator="xml"
                    expression="//m0:elementB"/>
            </args>
         </payloadFactory>
         <property name="OUT_ONLY" value="true"/>
         <property name="FORCE_SC_ACCEPTED" value="true" scope="axis2"/>
         <send>
            <endpoint key="callSendToJMSQueueProxy"/>
         </send>
      </outSequence>
   </target>
   <policy key="conf:/repository/axis2/service-groups/ProcessMessageMainProxy/services/ProcessMessageMainProxy/policies/policyFromRegistry"/>
   <parameter name="disableREST">true</parameter>
   <parameter name="ScenarioID">policyFromRegistry</parameter>
   <parameter name="secPolicyRegistryPath">conf:/policy/UTOverTransport.xml</parameter>
   <enableSec/>
</proxy>
